<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">

	<link rel="stylesheet" href="./uploader.css">
</head>

<body>
	<div class="container" role="main">
		<form method="post" id="upload-box" action="#" enctype="multipart/form-data" novalidate class="box">

			<div class="box__input">

				<center>

					<img src="./cloud.svg" />

					<input type="file" name="files[]" id="file" class="box__file" data-multiple-caption="{count} files selected" multiple />

					<div style="width: 50%;">
						<p>
							<label for="file">
								<strong>Choose a file</strong>
								<span class="box__dragndrop"> or drag it here</span>.
							</label>
						</p>
						<div id="progressBar"></div>
						<br />

						<div>

							<!-- 在onclick事件之中设置上传接受的url地址 -->
							<a id="controlButton" href="#" class="progress-button" onclick="upload('/test/index.php')">
								<img src="./upload.svg" />&nbsp;Upload
							</a>
						</div>

						<br />
						<div id="warning"></div>
					</div>

				</center>

			</div>

			<!-- 修改下面的三个函数来处理上传所相对应的事件 -->
			<script type="text/javascript">
				// 上传成功响应
				function uploadComplete(evt) {
					// 服务断接收完文件返回的结果
					// alert(evt.target.responseText);
					console.log($.parseJSON(evt.target.responseText));
				}

				// 上传失败
				function uploadFailed(evt) {

				}
				// 取消上传
				function cancleUploadFile() {
					xhr.abort();
				}
			</script>
		</form>
	</div>

	<script src="js/uploader.js" type="text/javascript"></script>
	<script src="http://cdn.biodeep.cn/vendor/jquery-3.2.1.min.js" type="text/javascript"></script>
	<script src="js/script.js" type="text/javascript"></script>
</body>

</html>