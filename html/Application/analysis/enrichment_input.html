<link href="http://cdn.biodeep.cn/styles/bootstrap.min.css" rel="stylesheet" />
<link href="http://cdn.biodeep.cn/styles/font-awesome-4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

<script src="http://cdn.biodeep.cn/vendor/jquery.min.js"></script>
<script src="http://www.biodeep.cn/js/bootstrap.min.js"></script>
<script src="http://www.biodeep.cn/js/layer-v2.1/layer/layer.js"></script>

<body>

    <h2>Input</h2>

    <p>
        <span>Select Species: </span>
        <input type="text" id="species" name="species" class="form-control" />

        <div id="suggestions">

        </div>

        <script type="text/javascript" src="/javascript/kegg_organism.js"></script>
        <script type="text/javascript" src="/javascript/suggestion_list.js"></script>
        <script type="text/javascript">

            loadKEGGOrganism("/repository/br08601.json", function (organisms) {
                var terms = [];

				console.log(organisms);
				
                organisms.forEach(function (org) {
                    terms.push(new term(org.id, org.name));
                });

                // makeSuggestions(terms: term[], div: string, click: (term: term) => void)
                var update = makeSuggestions(terms, "suggestions", function (term) {
                    console.log(term);
                });
                var input = document.getElementById("species");

                input.onkeypress = update;
            });

        </script>
    </p>

    <h3>Input GeneID list</h3>

    <p>
        <textarea id="idlist" name="idlist" rows="3" cols="10" class="form-control"></textarea>
    </p>

    <!-- 进行提交按钮点击之后就会在后台产生一个数据库的搜索计算任务和结果绘图的任务 -->
    <button type="button" class="btn btn-primary" data-toggle="button" onclick="submit();">Submit</button>

</body>